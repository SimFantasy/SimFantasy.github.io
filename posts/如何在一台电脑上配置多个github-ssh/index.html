<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>如何在一台电脑上配置多个Github SSH | SimFantasy</title>
<meta name=author content="Simz"><meta name=description content="因为遇到需要使用两个github账号来做不同账号的代码同步，于是学习了下。主要解决同一台电脑上两个github账号切换的问题。
如果已经有主账号了，不需要再次生成，下面仅为副账号生成设置步骤。"><meta name=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="如何在一台电脑上配置多个Github SSH"><meta name=twitter:description content="因为遇到需要使用两个github账号来做不同账号的代码同步，于是学习了下。主要解决同一台电脑上两个github账号切换的问题。
如果已经有主账号了，不需要再次生成，下面仅为副账号生成设置步骤。"><meta property="og:title" content="如何在一台电脑上配置多个Github SSH"><meta property="og:description" content="因为遇到需要使用两个github账号来做不同账号的代码同步，于是学习了下。主要解决同一台电脑上两个github账号切换的问题。
如果已经有主账号了，不需要再次生成，下面仅为副账号生成设置步骤。"><meta property="og:type" content="article"><meta property="og:url" content="http://localhost/posts/%E5%A6%82%E4%BD%95%E5%9C%A8%E4%B8%80%E5%8F%B0%E7%94%B5%E8%84%91%E4%B8%8A%E9%85%8D%E7%BD%AE%E5%A4%9A%E4%B8%AAgithub-ssh/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-05-05T19:37:12+00:00"><meta property="article:modified_time" content="2023-05-05T19:37:12+00:00"><link rel=stylesheet href=/css/bootstrap.min.css crossorigin=anonymous><link href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.1/css/all.min.css rel=stylesheet type=text/css><link rel=stylesheet href=/sass/main.css><link rel=stylesheet href=/zoomjs/zoom.min.css><script src=/js/lazysizes.min.js></script><link rel=apple-touch-icon sizes=180x180 href="/apple-touch-icon.png?v=123"><link rel=icon type=image/png sizes=32x32 href="/favicon-32x32.png?v=123"><link rel=icon type=image/png sizes=16x16 href="/favicon-16x16.png?v=123"><link rel=manifest href=/site.webmanifest></head><body><nav class="navbar navbar-default navbar-custom navbar-fixed-top invert"><div class=container-fluid><div class="navbar-header page-scroll"><button type=button class=navbar-toggle>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span>
<span class=icon-bar></span>
<span class=icon-bar></span>
</button>
<a class=navbar-brand href=http://localhost/>SimFantasy</a></div><div id=huxblog_navbar><div class=navbar-collapse><ul class="nav navbar-nav navbar-right"><li><a href=/ title=Home>Home</a></li><li><a href=/archive/ title=Archive>Archive</a></li><li><a href=/series/ title=Note>Note</a></li><li class=search-icon><a href=javascript:void(0)><i class="fa fa-search"></i></a></li></ul></div></div></div></nav><script>var $body=document.body,$toggle=document.querySelector(".navbar-toggle"),$navbar=document.querySelector("#huxblog_navbar"),$collapse=document.querySelector(".navbar-collapse"),__HuxNav__={close:function(){$navbar.className=" ",setTimeout(function(){$navbar.className.indexOf("in")<0&&($collapse.style.height="0px")},400)},open:function(){$collapse.style.height="auto",$navbar.className+=" in"}};$toggle.addEventListener("click",function(){$navbar.className.indexOf("in")>0?__HuxNav__.close():__HuxNav__.open()}),document.addEventListener("click",function(e){if(e.target==$toggle)return;if(e.target.className=="icon-bar")return;__HuxNav__.close()})</script><div class=search-page><div class=search-icon-close-container><span class=search-icon-close><i class="fa fa-chevron-down"></i></span></div><div class="search-main container"><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><form></form><input type=text id=search-input placeholder="$ grep..."></form><div id=search-results class=mini-post-list></div></div></div></div></div><style type=text/css>header.intro-header{position:relative;background-image:url('')}</style><header class="intro-header style-text"><div class=header-mask></div><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class=post-heading><h1>如何在一台电脑上配置多个Github SSH</h1><h2 class=subheading></h2><span class=meta><div class=meta-item><i class="far fa-user-circle"></i> Simz</div><div class=meta-item><i class="far fa-calendar"></i> 2023-05-05</div><div class=meta-item><i class="fa fa-tag"></i>
<a href=/tags/git/ title=Git>Git</a></div></span></div></div></div></div></header><article><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2
col-md-10 col-md-offset-1
post-container"><p>因为遇到需要使用两个github账号来做不同账号的代码同步，于是学习了下。主要解决同一台电脑上两个github账号切换的问题。
如果已经有主账号了，不需要再次生成，下面仅为副账号生成设置步骤。</p><h3 id=生成副账号的ssh>生成副账号的SSH<a class=anchorjs-link href=#%e7%94%9f%e6%88%90%e5%89%af%e8%b4%a6%e5%8f%b7%e7%9a%84ssh></a></h3><p>第一步，我们需要为账号生成密钥：
命令：</p><div class=highlight><pre tabindex=0 style=color:#4c4f69;background-color:#eff1f5;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#8c8fa1">1</span><span>ssh-keygen -t ed25519 -C <span style=color:#40a02b>&#34;your_email@work.com&#34;</span>
</span></span></code></pre></div><p>在输入命令，修改对应的邮箱后，回车。</p><p>需要注意的是，<strong>当其出现以下提示时，需要手动修改一下文件名，</strong> 否则可能会覆盖已有的默认 <code>SSH</code>，比如我们修改成 <code>~/.ssh/work_ed25519</code>，注意此处的路径，如果前面的路径设置没效果或者错误，可以使用绝对路径<code>/Users/you/.ssh/work_ed25519</code></p><div class=highlight><pre tabindex=0 style=color:#4c4f69;background-color:#eff1f5;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#8c8fa1">1</span><span>Enter file in which to save the key <span style=color:#04a5e5;font-weight:700>(</span>/Users/you/.ssh/id_ed25519<span style=color:#04a5e5;font-weight:700>)</span>: ~/.ssh/work_ed25519
</span></span></code></pre></div><p>然后一路按 <code>enter</code> 即可。接下来我们可以通过以下方法来确认是否成功生成密钥：</p><div class=highlight><pre tabindex=0 style=color:#4c4f69;background-color:#eff1f5;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#8c8fa1">1</span><span>ls ~/.ssh/ id_ed25519
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#8c8fa1">2</span><span>id_ed25519.pub work_ed25519
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#8c8fa1">3</span><span>work_ed25519.pub
</span></span></code></pre></div><p>若列出以上文件则表示成功。</p><h3 id=添加ssh公钥>添加SSH公钥<a class=anchorjs-link href=#%e6%b7%bb%e5%8a%a0ssh%e5%85%ac%e9%92%a5></a></h3><p>把生成的公钥传入 GitHub 中，在github头像上点击出菜单，<code>settings</code>，在设置页面左侧菜单栏中找到<code>SSH and GPG keys</code>，然后选择 <code>New SSH key</code> 并把 <code>work_ed25519.pub</code> 中的公钥复制进去即可。</p><h3 id=将-ssh-密钥加入-ssh-agent-并进行配置>将 SSH 密钥加入 ssh-agent 并进行配置<a class=anchorjs-link href=#%e5%b0%86-ssh-%e5%af%86%e9%92%a5%e5%8a%a0%e5%85%a5-ssh-agent-%e5%b9%b6%e8%bf%9b%e8%a1%8c%e9%85%8d%e7%bd%ae></a></h3><p>打开 <code>~/.ssh/</code> 下的 <code>config</code> （若没有的话新建即可，就是一个config文件，没有后缀）文件并输入以下的信息并保存：</p><div class=highlight><pre tabindex=0 style=color:#4c4f69;background-color:#eff1f5;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-text data-lang=text><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#8c8fa1"> 1</span><span>Host github.com 
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#8c8fa1"> 2</span><span>	User mainUsername
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#8c8fa1"> 3</span><span>	AddKeysToAgent yes 
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#8c8fa1"> 4</span><span>	IgnoreUnknown UseKeychain 
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#8c8fa1"> 5</span><span>	IdentityFile ~/.ssh/id_rsa 
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#8c8fa1"> 6</span><span>Host work.com 
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#8c8fa1"> 7</span><span>	HostName github.com 
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#8c8fa1"> 8</span><span>	User subUsername 
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#8c8fa1"> 9</span><span>	AddKeysToAgent yes 
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#8c8fa1">10</span><span>	IgnoreUnknown UseKeychain 
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#8c8fa1">11</span><span>	IdentityFile ~/.ssh/work_ed25519
</span></span></code></pre></div><p>需要注意的几个点：</p><ol><li>第一组可以设置成默认的主账号，这样<code>clone</code>时可以不需要修改。第二组设置为副账号，在<code>clone</code>时就需要进行修改了，下面会单独来说下如何修改。</li><li>User这里需要填写账号的用户名，可以在<code>settings</code>页面的头像旁看到，括号中的就是账号的用户名，需要确定好不要写错。</li><li>确认好<code>IdentityFile</code>所对应的生成账号文件。</li></ol><h3 id=如何使用副账号进行clone>如何使用副账号进行Clone<a class=anchorjs-link href=#%e5%a6%82%e4%bd%95%e4%bd%bf%e7%94%a8%e5%89%af%e8%b4%a6%e5%8f%b7%e8%bf%9b%e8%a1%8cclone></a></h3><p>配置就完成啦，当我们需要 <code>clone</code> 公司的项目时，只需要略微修改其 <code>SSH</code> 即可：</p><div class=highlight><pre tabindex=0 style=color:#4c4f69;background-color:#eff1f5;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#8c8fa1">1</span><span><span style=color:#9ca0b0;font-style:italic># 原始链接</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#8c8fa1">2</span><span>git@github.com:公司名/项目名.git 
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#8c8fa1">3</span><span><span style=color:#9ca0b0;font-style:italic>#需要修改成</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#8c8fa1">4</span><span>git@work.com:公司名/项目名.git
</span></span></code></pre></div><p>需要修改的地方有两处：</p><ol><li><code>github.com</code> 需要修改为config文件中配置的Host <code>work.com</code></li><li>公司名，需要修改为config文件中配置的User <code>subUsername</code></li></ol><h3 id=配置工作区账号>配置工作区账号<a class=anchorjs-link href=#%e9%85%8d%e7%bd%ae%e5%b7%a5%e4%bd%9c%e5%8c%ba%e8%b4%a6%e5%8f%b7></a></h3><p>通过 <code>git config user.email</code> 来查看当前邮箱时，发现其实还是主账号的邮箱，这样副账号<code>commit</code>时，会使用主账号来进行推送。这时就需要配置对应的工作区账号。
在项目目录执行如下命令：</p><div class=highlight><pre tabindex=0 style=color:#4c4f69;background-color:#eff1f5;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#8c8fa1">1</span><span>git init
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#8c8fa1">2</span><span>git config --local user.email work@email.com
</span></span></code></pre></div><p><code>work@email.com</code> 为副账号的邮箱。这样我们就为该工作区配置好了正确的信息。在配置完工作区账号后，我们可以通过 <code>git config user.email</code>来查看当前目录下的邮箱，就已经替换成副账号的邮箱了。</p><p>配置流程可以总结如下：</p><ol><li>为副账号配置<code>SSH</code></li><li>将SSH公钥配置到<code>Github</code></li><li>配置<code>Config</code>文件</li><li>设置工作区<code>user.email</code></li></ol><hr style=visibility:hidden><ul class=pager><li class=previous><a href=/posts/react-route-6-4%E5%8A%9F%E8%83%BD/ data-toggle=tooltip data-placement=top title="React Route 6.4功能">Previous<br><span>React Route 6.4功能</span></a></li><li class=next><a href=/posts/react-query-key-factory/ data-toggle=tooltip data-placement=top title="Query Key Factory - React Query 的 QueryKey  查询管理工具">Next<br><span>Query Key Factory - React Query 的 QueryKey 查询管理工具</span></a></li></ul><hr style=visibility:hidden></div><div class="col-lg-2 col-lg-offset-0
visible-lg-block
sidebar-container
catalog-container"><div class=side-catalog><hr class="hidden-sm hidden-xs"><h5><a class=catalog-toggle href=#>CATALOG</a></h5><ul class=catalog-body></ul></div></div><div class="col-lg-8 col-lg-offset-2
col-md-10 col-md-offset-1
sidebar-container"><section><hr class="hidden-sm hidden-xs"><h5>FEATURED TAGS</h5><div class=tags><a href=/tags/api/>Api</a>
<a href=/tags/auth0/>Auth0</a>
<a href=/tags/chakraui/>Chakraui</a>
<a href=/tags/css/>Css</a>
<a href=/tags/egg/>Egg</a>
<a href=/tags/electron/>Electron</a>
<a href=/tags/elementplus/>ElementPlus</a>
<a href=/tags/elementui/>Elementui</a>
<a href=/tags/elint/>Elint</a>
<a href=/tags/eslint/>Eslint</a>
<a href=/tags/express/>Express</a>
<a href=/tags/firebase/>Firebase</a>
<a href=/tags/formik/>Formik</a>
<a href=/tags/git/>Git</a>
<a href=/tags/graphql/>GraphQL</a>
<a href=/tags/hexo/>Hexo</a>
<a href=/tags/icon/>Icon</a>
<a href=/tags/javascript/>Javascript</a>
<a href=/tags/koa/>Koa</a>
<a href=/tags/mongoddb/>Mongoddb</a>
<a href=/tags/nextjs/>Nextjs</a>
<a href=/tags/node/>Node</a>
<a href=/tags/pinia/>Pinia</a>
<a href=/tags/prettier/>Prettier</a>
<a href=/tags/prisma/>Prisma</a>
<a href=/tags/react/>React</a>
<a href=/tags/react-query/>React-Query</a>
<a href=/tags/react-router/>React-Router</a>
<a href=/tags/redux-toolkit/>Redux-Toolkit</a>
<a href=/tags/sequelize/>Sequelize</a>
<a href=/tags/strapi/>Strapi</a>
<a href=/tags/styled-components/>Styled-Components</a>
<a href=/tags/typescript/>Typescript</a>
<a href=/tags/valtio/>Valtio</a>
<a href=/tags/vite/>Vite</a>
<a href=/tags/vscode/>Vscode</a>
<a href=/tags/vue/>Vue</a>
<a href=/tags/vuex/>Vuex</a>
<a href=/tags/zustand/>Zustand</a>
<a href=/tags/%E9%81%BF%E5%9D%91%E6%8C%87%E5%8D%97/>避坑指南</a></div></section></div></div></div></article><footer><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center"></ul><p class="copyright text-muted">Copyright &copy; SimFantasy 2024<br>Powered by <a href=https://gohugo.io>Hugo</a></p></div></div></div></footer><script src=/js/jquery.min.js></script><script src=/js/bootstrap.min.js crossorigin=anonymous></script><script src=/js/hux-blog.min.c4ea77041cd3edbfc8b2622cd887a9a5d8760a4162d14489e36d2a3fa4c90172.js></script><script src=/js/simple-jekyll-search.min.js></script><script src=/js/search.min.53bce5da475b4d362500e5ce5dddfa22e20e1b9018777411d2020b4b839c9310.js></script><script type=text/javascript>function generateCatalog(e){_containerSelector="div.post-container";var t,n,s,o,i,a=$(_containerSelector),r=a.find("h1,h2,h3,h4");return $(e).html(""),r.each(function(){t=$(this).prop("tagName").toLowerCase(),o="#"+$(this).prop("id"),n=$(this).text(),i=$('<a href="'+o+'" rel="nofollow">'+n+"</a>"),s=$('<li class="'+t+'_nav"></li>').append(i),$(e).append(s)}),!0}generateCatalog(".catalog-body"),$(".catalog-toggle").click(function(e){e.preventDefault(),$(".side-catalog").toggleClass("fold")})</script><script type=text/javascript src=/js/jquery.nav.min.ade6bde8f9fcc6a4b40852cb892e9f5912340ab8fe1305149d917fdd16fffd8d.js></script><script>$(document).ready(function(){$(".catalog-body").onePageNav({currentClass:"active",changeHash:!1,easing:"swing",filter:"",scrollSpeed:700,scrollOffset:0,scrollThreshold:.2,begin:null,end:null,scrollChange:null,padding:80})})</script><script src=/zoomjs/zoom.min.js></script></body></html>